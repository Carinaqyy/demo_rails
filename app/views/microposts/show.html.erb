<p style="color: green"><%= notice %></p>

<%= render @micropost %>

<div>
  <% if defined?(@user) and @user.id == @micropost.user_id%>
    
    <%= link_to "Edit this micropost", edit_micropost_path(@micropost) %>
    <%= button_to "Destroy this micropost", @micropost, method: :delete %>
  <% end %>
  <%= link_to "Back to microposts", microposts_path %>
</div>

<h2>All Comments</h2>
<ul>
  <% @micropost.comments.each do |comment| %>
    <li>
      <p>
        <strong>Commenter:</strong>
        <%= comment.commenter %>
      </p>
      <p>
        <strong>Comment Body:</strong>
        <%= comment.body %>
      </p>
      <p>
        <%= link_to "Show this comment", comment %>
      </p>
    </li>
  <% end %>
</ul>

<h2>Post Comments</h2>

<% if defined?(@user) %>
  <%= link_to "New Comment", new_user_micropost_comment_path(@user, @micropost) %>
<% else %>
  <%= link_to "New Comment (no user)", new_micropost_comment_path(@micropost) %>
<% end %>
